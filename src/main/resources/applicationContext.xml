<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd">



	<context:component-scan base-package="concursantes" />


	<!-- <bean id="solei" class="concursantes.Malabarista"> <constructor-arg 
		value="10" /> </bean> <bean id="sonetoSorJuana" class="concursantes.Soneto" 
		/> <bean id="soleiRecitador" class="concursantes.MalabaristaRecitador"> <constructor-arg 
		value="15" /> <constructor-arg ref="sonetoSorJuana" /> </bean> <bean id="piano" 
		class="concursantes.Piano" /> <bean id="jasonPiano" class="concursantes.Musico"> 
		<property name="cancion" value="Noche de Paz" /> <property name="instrumento" 
		ref="piano"></property> </bean> -->



	<bean id="jasonSax" class="concursantes.Musico">
		<property name="cancion" value="Equinox" /> <!-- bean interno (inner bean) -->
		<property name="instrumento">
			<bean class="concursantes.Saxofon"  />
		</property>
	</bean>


	<!-- configuracion de AOP -->
	<aop:config><!-- se habilita el namespace aop, se agrega aop:config que permite configurar varios aspectos-->
		<aop:aspect ref="audiencia"><!-- se define es aspecto con nombre audiencia en la clase audciencia tiene anotacion @Component-->
			<aop:pointcut expression="execution(* concursantes.Concursante.ejecutar(..))"
				id="show" /><!-- se define el point cut, especifica cual es el metodo a monitorear concursantes.Concursante.ejecutar(..)-->
			
			<aop:before pointcut-ref="show" method="sentarse" /><!-- se ejecuta antes del metodo especificado method(nombre del metodo a ejecutar)-->
			<aop:before pointcut-ref="show" method="apagarCelulares" /><!-- se ejecuta antes del metodo especificado-->
			<aop:after-returning pointcut-ref="show" method="aplaudir" /><!-- se ejecuta despues del metodo-->
			<aop:after-throwing pointcut-ref="show" method="devolucion" /><!-- se ejecuta si arroja alguna excetion-->
		</aop:aspect>
	</aop:config>

</beans>
